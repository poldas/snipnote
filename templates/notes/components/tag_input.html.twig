{#
  TagInput Component
  Input for adding labels/tags with chip display and deduplication
#}
<div data-field="labels" class="group">
    <label for="tag-input" class="block text-base font-bold text-gray-800 mb-4">
        <span class="bg-gradient-to-r from-indigo-600 to-purple-600 text-transparent bg-clip-text">Etykiety</span>
    </label>

    <div class="flex gap-2 sm:gap-3 mb-4">
        <input type="text" id="tag-input" data-tag-input maxlength="64" aria-describedby="tag-hint"
               data-testid="tag-input"
               tabindex="3"
               class="input-modern flex-1 px-4 sm:px-6 py-2.5 sm:py-3 border-2 border-indigo-200 rounded-xl bg-white text-gray-900 placeholder-gray-400 shadow-md hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-indigo-300 focus:border-indigo-400 font-medium text-sm sm:text-base"
               placeholder="ğŸ·ï¸ Etykieta...">
        <button type="button" data-add-tag-btn 
                data-testid="tag-add-btn"
                class="btn-gradient px-4 sm:px-6 py-2.5 sm:py-3 text-white rounded-xl font-bold text-xs sm:text-sm shadow-lg hover:shadow-2xl">
            Dodaj
        </button>
    </div>

    <div id="tags-container" data-tags-container class="flex flex-wrap gap-2 min-h-[40px] p-4 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl border-2 border-dashed border-indigo-200" role="list" aria-label="Lista etykiet">
        {# Tag chips will be inserted here dynamically #}
    </div>

    <p id="tag-hint" class="mt-3 text-xs sm:text-sm text-gray-600 font-medium">
        <p class="text-gray-500 text-sm font-normal ml-2">Oddziel etykiety naciskajÄ…c Enter lub przecinek (,)</p>
        <p class="text-gray-500 text-sm font-normal ml-2">UÅ¼yj etykiet <b>recipe</b> lub <b>todo</b>, aby zmieniÄ‡ wyglÄ…d notatki</p>
    </p>

    <input type="hidden" name="labels" data-labels-input value="{{ initialLabels is defined ? initialLabels|json_encode|e('html_attr') : '[]' }}">

    <div id="labels-error" data-labels-error class="hidden mt-3 text-sm text-red-600 font-medium" role="alert">
        {# Error messages will be inserted here by JavaScript #}
    </div>
</div>

