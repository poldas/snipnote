{#
  MarkdownTextarea Component
  Large textarea with markdown toolbar and character counter
  Max length: 100000 characters
#}
<div data-field="description" class="group">
    <div class="flex items-center justify-between mb-3">
        <label for="note-description" class="block text-base font-bold text-gray-800">
            <span class="bg-gradient-to-r from-indigo-600 to-purple-600 text-transparent bg-clip-text">Opis (Markdown)</span>
            <span class="text-red-500 ml-1">*</span>
        </label>
        <span id="description-counter" data-description-counter class="text-sm text-gray-500 font-semibold" aria-live="polite">
            0 / 100000
        </span>
    </div>

    <!-- Markdown Toolbar -->
    <div class="flex flex-wrap items-center gap-1.5 sm:gap-2 mb-0 p-2 sm:p-3 bg-gradient-to-r from-gray-50 to-indigo-50 rounded-t-2xl border-2 border-b-0 border-indigo-200" role="toolbar" data-markdown-toolbar>
        <button type="button" tabindex="-1" data-md-action="bold" title="Pogrubienie (Ctrl+B)" class="toolbar-btn px-2.5 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-bold text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            <strong>B</strong>
        </button>
        <button type="button" tabindex="-1" data-md-action="italic" title="Kursywa (Ctrl+I)" class="toolbar-btn px-2.5 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm italic text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            <em>I</em>
        </button>
        <button type="button" tabindex="-1" data-md-action="code" title="Kod inline" class="toolbar-btn px-2.5 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-mono text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            &lt;/&gt;
        </button>
        <button type="button" tabindex="-1" data-md-action="link" title="Link (Ctrl+K)" class="toolbar-btn px-2.5 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            ðŸ”—
        </button>
        <div class="hidden xs:block w-px h-6 sm:h-8 bg-gray-300 mx-1"></div>
        <button type="button" tabindex="-1" data-md-action="heading" title="NagÅ‚Ã³wek" class="toolbar-btn px-2.5 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-bold text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            H
        </button>
        <button type="button" tabindex="-1" data-md-action="list" title="Lista" class="toolbar-btn px-2.5 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            â€¢â€¢â€¢
        </button>
        <button type="button" tabindex="-1" data-md-action="quote" title="Cytat" class="toolbar-btn px-2.5 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            "
        </button>
    </div>

    <textarea id="note-description" name="description" data-description-textarea rows="30" maxlength="100000" required
              data-testid="note-description-textarea"
              tabindex="2"
              class="input-modern w-full px-4 sm:px-6 py-3 sm:py-4 border-2 border-t-0 border-indigo-200 rounded-b-2xl bg-white text-gray-900 placeholder-gray-400 font-mono text-sm resize-y shadow-md hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-indigo-300 focus:border-indigo-400"
              placeholder="âœï¸ Wpisz treÅ›Ä‡ notatki w formacie Markdown...

**PrzykÅ‚ady uÅ¼ycia skÅ‚adni markdown:**

# NagÅ‚Ã³wek 1

## NagÅ‚Ã³wek 2

### NagÅ‚Ã³wek 3

**pogrubienie** | *kursywa* | ~~skreÅ›lenie~~ | `kod inline`

- Lista punktowana (lub 1. numerowana)

> Cytat blokowy

> > ZagnieÅ¼dÅ¼ony cytat

```javascript
// Blok kodu z kolorowaniem skÅ‚adni
console.log('Witaj w Snipnote!');
```

[Link z opisem](https://snipnote.pl 'TytuÅ‚ po najechaniu')

![Opis alternatywny (alt)](https://snipnote.pl/favicon.svg 'TytuÅ‚ obrazka')

| Tabela | PrzykÅ‚ad |
| :--- | :--- |
| KomÃ³rka 1 | KomÃ³rka 2 |">{{ initialDescription ?? '' }}</textarea>
    <div id="description-error" data-description-error class="hidden mt-3 text-sm text-red-600 font-medium" role="alert">
        {# Error messages will be inserted here by JavaScript #}
    </div>
</div>
