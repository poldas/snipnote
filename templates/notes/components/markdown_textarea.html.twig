{#
  MarkdownTextarea Component
  Large textarea with markdown toolbar and character counter
  Max length: 10000 characters
#}
<div data-field="description" class="group">
    <div class="flex items-center justify-between mb-3">
        <label for="note-description" class="block text-base font-bold text-gray-800">
            <span class="bg-gradient-to-r from-indigo-600 to-purple-600 text-transparent bg-clip-text">Opis (Markdown)</span>
            <span class="text-red-500 ml-1">*</span>
        </label>
        <span id="description-counter" data-description-counter class="text-sm text-gray-500 font-semibold" aria-live="polite">
            0 / 10000
        </span>
    </div>

    <!-- Markdown Toolbar -->
    <div class="flex flex-wrap items-center gap-2 mb-0 p-3 bg-gradient-to-r from-gray-50 to-indigo-50 rounded-t-2xl border-2 border-b-0 border-indigo-200" role="toolbar" data-markdown-toolbar>
        <button type="button" data-md-action="bold" title="Pogrubienie (Ctrl+B)" class="toolbar-btn px-4 py-2 text-sm font-bold text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            <strong>B</strong>
        </button>
        <button type="button" data-md-action="italic" title="Kursywa (Ctrl+I)" class="toolbar-btn px-4 py-2 text-sm italic text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            <em>I</em>
        </button>
        <button type="button" data-md-action="code" title="Kod inline" class="toolbar-btn px-4 py-2 text-sm font-mono text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            &lt;/&gt;
        </button>
        <button type="button" data-md-action="link" title="Link (Ctrl+K)" class="toolbar-btn px-4 py-2 text-sm text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            ðŸ”—
        </button>
        <div class="w-px h-8 bg-gray-300"></div>
        <button type="button" data-md-action="heading" title="NagÅ‚Ã³wek" class="toolbar-btn px-4 py-2 text-sm font-bold text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            H
        </button>
        <button type="button" data-md-action="list" title="Lista" class="toolbar-btn px-4 py-2 text-sm text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            â€¢â€¢â€¢
        </button>
        <button type="button" data-md-action="quote" title="Cytat" class="toolbar-btn px-4 py-2 text-sm text-gray-700 bg-white rounded-lg shadow-sm hover:shadow-md border border-gray-200">
            "
        </button>
    </div>

    <textarea id="note-description" name="description" data-description-textarea rows="14" maxlength="10000" required
              class="input-modern w-full px-6 py-4 border-2 border-t-0 border-indigo-200 rounded-b-2xl bg-white text-gray-900 placeholder-gray-400 font-mono text-sm resize-y shadow-md hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-indigo-300 focus:border-indigo-400"
              placeholder="âœï¸ Wpisz treÅ›Ä‡ notatki w formacie Markdown...

**PrzykÅ‚ady:**
- **pogrubienie**
- *kursywa*
- `kod`
- [link](https://example.com)">{{ initialDescription ?? '' }}</textarea>
    <div id="description-error" data-description-error class="hidden mt-3 text-sm text-red-600 font-medium" role="alert">
        {# Error messages will be inserted here by JavaScript #}
    </div>
</div>

