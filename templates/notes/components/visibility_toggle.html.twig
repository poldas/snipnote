{#
  VisibilityToggle Component
  Toggle between private/public/draft visibility options
  Props: initialValue (string, default: 'private')
#}
{% set currentValue = initialValue ?? 'private' %}

<div data-field="visibility" class="group">
    <label class="block text-base font-bold text-gray-800 mb-4">
        <span class="bg-gradient-to-r from-indigo-600 to-purple-600 text-transparent bg-clip-text">WidocznoÅ›Ä‡</span>
    </label>
    <div role="radiogroup" class="flex flex-wrap items-center gap-3 p-2 rounded-2xl bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 shadow-inner w-fit" data-visibility-toggle>
        <input type="radio" id="visibility-private" name="visibility" value="private" data-visibility-input class="sr-only"{% if currentValue == 'private' %} checked{% endif %}>
        <label for="visibility-private" class="visibility-btn px-4 sm:px-6 py-2.5 sm:py-3 text-xs sm:text-sm font-bold rounded-xl cursor-pointer bg-white text-gray-700 hover:text-indigo-600 shadow-sm transition-all duration-300 hover:scale-105" data-visibility-label="private">
            ğŸ”’ Prywatna
        </label>

        <input type="radio" id="visibility-public" name="visibility" value="public" data-visibility-input class="sr-only"{% if currentValue == 'public' %} checked{% endif %}>
        <label for="visibility-public" class="visibility-btn px-4 sm:px-6 py-2.5 sm:py-3 text-xs sm:text-sm font-bold rounded-xl cursor-pointer bg-white text-gray-700 hover:text-indigo-600 shadow-sm transition-all duration-300 hover:scale-105" data-visibility-label="public">
            ğŸŒ Publiczna
        </label>

        <input type="radio" id="visibility-draft" name="visibility" value="draft" data-visibility-input class="sr-only"{% if currentValue == 'draft' %} checked{% endif %}>
        <label for="visibility-draft" class="visibility-btn px-4 sm:px-6 py-2.5 sm:py-3 text-xs sm:text-sm font-bold rounded-xl cursor-pointer bg-white text-gray-700 hover:text-indigo-600 shadow-sm transition-all duration-300 hover:scale-105" data-visibility-label="draft">
            ğŸ“ Szkic
        </label>
    </div>

    <p class="mt-3 text-sm text-gray-600 font-medium">
        <span data-visibility-description>
            {% if currentValue == 'public' %}
                {{ 'note.visibility.public_desc'|trans }}
            {% elseif currentValue == 'draft' %}
                {{ 'note.visibility.draft_desc'|trans }}
            {% else %}
                {{ 'note.visibility.private_desc'|trans }}
            {% endif %}
        </span>
    </p>
    <div id="visibility-error" data-visibility-error class="hidden mt-3 text-sm text-red-600 font-medium" role="alert">
        {# Error messages will be inserted here by JavaScript #}
    </div>
</div>

